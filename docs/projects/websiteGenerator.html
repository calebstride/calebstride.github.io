<!DOCTYPE html><html lang="en"><head>
    <script type="text/javascript" src="/scripts/ContentTools.js"></script>
    <script type="text/javascript">
        window.addEventListener('load', () => { ContentTools.findAndSetSelectedFromStorage(); });
    </script>
    
    <title>Website Generator | Caleb Stride</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <meta name="description" content="A quick project on creating a website generator, that generates a static website from a directory of .md files.">
    <meta name="author" content="Caleb Stride">

    <link href="/styles/main.css" rel="stylesheet" type="text/css">
    <link href="/styles/hljs.css" rel="stylesheet" type="text/css">

    <link rel="icon" href="images/favicon.svg" sizes="any" type="image/svg+xml">
    <link rel="icon" href="images/favicon-48x48.png" sizes="48x48" type="image/png">
    <link rel="icon" href="images/favicon-32x32.png" sizes="32x32" type="image/png">

    <script>
         ContentTools.initTheme();
    </script>
</head>

<body>

    <div id="page-container">

        <div class="page-buffer" id="left-buffer"></div>

        <nav id="side-bar" class="hidden-feature-mob"><ul id="main-nav-bar"><li><div class="menu-button"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('Home') === 'true'){event.stopPropagation();}" href="/index.html">Home</a></div></li><li><div class="menu-button"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('About') === 'true'){event.stopPropagation();}" href="/about.html">About</a></div></li><li><div class="drop-down-button menu-button" id="Projectsdrop-down-b" onclick="ContentTools.hideOrShowNavBar(this, 'Projects-drop-down')"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('Projects') === 'true'){event.stopPropagation();}" href="/projects.html">Projects</a></div><ul class="drop-down-content selected-drop-down" id="Projects-drop-down"><li><div class="drop-down-button menu-button" id="Manage Cabbagedrop-down-b" onclick="ContentTools.hideOrShowNavBar(this, 'Manage Cabbage-drop-down')"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('Manage Cabbage') === 'true'){event.stopPropagation();}" href="/projects/manageCabbage.html">Manage Cabbage</a></div><ul class="drop-down-content selected-drop-down" id="Manage Cabbage-drop-down"><li><div class="menu-button"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('Previous Design') === 'true'){event.stopPropagation();}" href="/projects/manageCabbage/previousDesign.html">Previous Design</a></div></li><li><div class="menu-button"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('Designing') === 'true'){event.stopPropagation();}" href="/projects/manageCabbage/design.html">Designing</a></div></li></ul></li><li class="selected"><div class="menu-button"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('Website Generator') === 'true'){event.stopPropagation();}" href="/projects/websiteGenerator.html">Website Generator</a></div></li></ul></li><li><div class="drop-down-button menu-button" id="Blogdrop-down-b" onclick="ContentTools.hideOrShowNavBar(this, 'Blog-drop-down')"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('Blog') === 'true'){event.stopPropagation();}" href="/blog.html">Blog</a></div><ul class="drop-down-content selected-drop-down" id="Blog-drop-down"><li><div class="menu-button"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('React Router OpenID') === 'true'){event.stopPropagation();}" href="/blog/231022openIdUi.html">React Router OpenID</a></div></li><li><div class="menu-button"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('Webpage Colour Themes') === 'true'){event.stopPropagation();}" href="/blog/231116themes.html">Webpage Colour Themes</a></div></li><li><div class="menu-button"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('Android Vico Point Colours') === 'true'){event.stopPropagation();}" href="/blog/240308vicoPoints.html">Android Vico Point Colours</a></div></li><li><div class="menu-button"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('Jetpack Compose Progress Bar') === 'true'){event.stopPropagation();}" href="/blog/240406loadingBar.html">Jetpack Compose Progress Bar</a></div></li></ul></li><li><div class="menu-button"><div class="drop-down-icon"></div><a onclick="if(window.sessionStorage.getItem('Contact') === 'true'){event.stopPropagation();}" href="/contact.html">Contact</a></div></li></ul>
            <div id="theme-wrap">
                <button class="theme-button hidden-feature-mob" onclick="ContentTools.changeTheme()">Toggle Theme</button>
            </div>
        </nav>

        <div id="page-content">
            <div id="dynamic-content">
                <h1 id="page-title">Website Generator</h1>
                <div id="page-text"><p>This project was created to generate the website you're looking at now. It's main 
purpose was convert markdown files into a collection of static html files. 
Admittedly I could have used many different web templates or website technologies to 
create this website. But I wanted to make the website small and quick to load. I've 
tried to keep the javascript used down to a minimum and only use it where it is needed.</p>
<div id="doc-menu-area" class="numbered-menu"> <div><a href="#Summary" class="header-row-h2 doc-menu-link"> 
            <div class="header-num">1.</div>&nbsp;&nbsp;Summary </a><a href="#Howitworks" class="header-row-h2 doc-menu-link"> 
            <div class="header-num">2.</div>&nbsp;&nbsp;How it works </a><a href="#SiteNavigation/Layout" class="header-row-h3 doc-menu-link"> 
            <div class="header-num">2.1.</div>&nbsp;&nbsp;Site Navigation / Layout </a><a href="#HtmlGeneration" class="header-row-h3 doc-menu-link"> 
            <div class="header-num">2.2.</div>&nbsp;&nbsp;Html Generation </a><a href="#Blogpages" class="header-row-h3 doc-menu-link"> 
            <div class="header-num">2.3.</div>&nbsp;&nbsp;Blog pages </a><a href="#Thoughts" class="header-row-h2 doc-menu-link"> 
            <div class="header-num">3.</div>&nbsp;&nbsp;Thoughts </a></div></div>

<h2 id="Summary"><div class="header-num">1.</div>&nbsp;&nbsp;Summary</h2>
<p>The tool works in a similar way to <a href="https://jekyllrb.com/">jekll</a>. It takes 
your markdown files and converts them into static html pages. The reason for 
this was to allow for documentation to be written easier, rather than writing 
it directly to html.</p>
<p>You can use javascript, css and other files along with the produced html files.</p>
<p><a href="https://github.com/CalebStride/personal-site">View the source code on GitHub.</a></p>
<h2 id="Howitworks"><div class="header-num">2.</div>&nbsp;&nbsp;How it works</h2>
<p>The code is pretty simple. It takes your markdown files and uses a Markdown 
parser to generate html content, it then adds this to templates files which then
form the final html page. These files, along with all the other webpage content, 
get moved into a new directory that makes up your functioning website.</p>
<p><img src="/images/webGenerator/siteGenFlow.png" alt="Flow diagram of website generation"></p>
<p>Each markdown page can have config defined within it to change the header, title
and template.</p>
<p>After the pages are generated you can then move the contents of the output 
directory into a web host of your choice.</p>
<h3 id="SiteNavigation/Layout"><div class="header-num">2.1.</div>&nbsp;&nbsp;Site Navigation / Layout</h3>
<p>There are some other things that are done during the website generation that 
can help with the website development. For example a site map is generated. This 
is a Json object that contains the file structure of your web pages. This is the 
same as the file structure of your markdown files, so you can use it to create a 
navigation menu in your website. </p>
<p>This works by creating a tree structure when going through the markdown files. 
There were some things I had to do to make this work as expected. For example, 
as the files are read in an order that might differ from the order you want pages 
to appear in the website, I allowed a number suffix in the file names so an order 
could be enforced. This suffix is removed in the html pages.</p>
<h3 id="HtmlGeneration"><div class="header-num">2.2.</div>&nbsp;&nbsp;Html Generation</h3>
<p>One thing I changed during development was to move the generation of the navigation
menu and content menus to the markdown conversion stage, rather than having it 
generated in the ui.</p>
<p>As you don't have access to the DOM when you're running javascript in node you
can't just create html like you would in a browser. I used the 
<a href="https://github.com/cheeriojs/cheerio">cheerio</a> dependency, so I could do this 
within node. The example below show's an example of using cheerio, where I'm 
creating a button that will run some function if clicked. Then appending that 
button to a node in my document.</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Load the file as a cheerio object</span>
<span class="hljs-keyword">const</span> $ = cheerio.<span class="hljs-title function_">load</span>(existingHtmlString);
<span class="hljs-comment">// Get a node of interest using jQuery esc selector</span>
<span class="hljs-keyword">const</span> $selectedNode = $(<span class="hljs-string">'#idSelector'</span>);
<span class="hljs-comment">// Create a new button </span>
<span class="hljs-keyword">let</span> $genericButton = $(<span class="hljs-string">`&lt;button onclick="runGenericFunction();"&gt;Press Me!&lt;/button&gt;`</span>);
<span class="hljs-comment">// Append the button to the node you selected earlier</span>
$selectedNode.<span class="hljs-title function_">append</span>($genericButton);
<span class="hljs-comment">// Then return the whole document as a html string for saving</span>
<span class="hljs-keyword">const</span> newHtmlString = $.<span class="hljs-title function_">html</span>();
</code></pre><p>Most of the logic is pretty similar to using jQuery. It then leaves me with
working html that I can save and serve as static files.</p>
<p>The main reason I moved this to the file generation was to reduce the amount of 
time the page took to render.
Even though this time would be negligible it had to be run every time a page was
visited. Instead, it now loads once when first loading the page but can be cached
for subsequent requests.</p>
<h3 id="Blogpages"><div class="header-num">2.3.</div>&nbsp;&nbsp;Blog pages</h3>
<p>This part of the site is still under development. I was thinking about a search
functionality which could be helpful if someone had a lot of blog posts. But 
currently this would just contain a list of subpages.</p>
<h2 id="Thoughts"><div class="header-num">3.</div>&nbsp;&nbsp;Thoughts</h2>
<p>I thought this was a fun little project. I definitely learnt a bit about node
as I hadn't previously used it. I didn't write any tests for this as I'm not 
sure on how testing frameworks work within node so that's something to look in to.</p>
<p><a href="https://calebstride.com/index.html">You can see the website that I generated using this tool</a> and the 
<a href="https://github.com/CalebStride/CalebStride.github.io">resources</a> of that site.</p>
</div>
            </div>
        </div>

        <div id="page-right-hand"> </div>
        <div class="page-buffer" id="right-buffer"></div>
    </div>

    <div id="burger-hug">
        <div id="theme-wrap-mob" class="hidden-feature-mob hidden-feature-big">
            <button class="theme-button" onclick="ContentTools.changeTheme()">Toggle Theme</button>
        </div>
        <div id="b-menu" class="hidden-feature-big" onclick="ContentTools.hideOrShowList(['side-bar', 'close-container', 'b-menu', 'theme-wrap-mob'], true);">
            <div class="b-men"></div>
            <div class="b-men"></div>
            <div class="b-men"></div>
        </div>
        <div id="close-container" class="hidden-feature-big hidden-feature-mob" onclick="ContentTools.hideOrShowList(['side-bar', 'close-container', 'b-menu', 'theme-wrap-mob'], true);">
            ×
        </div>
    </div>

</body></html>